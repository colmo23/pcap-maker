{% extends "base.html" %}
{% block content %}

<div class="container-container">
  <form id="{{ form_id }}" action="{{ action }}" class="form-grid" method="post">
    {% for field in form_fields %}
    <div class="form-row">
      <label for="{{ field.name }}">{{ field.label }}</label>
      {% if field.type == 'textarea' %}
        <div>
          <textarea id="{{ field.name }}" class="hex-input" name="{{ field.name }}" placeholder="{{ field.placeholder }}" spellcheck="false"></textarea>
          <div id="{{ field.name }}_error" class="field-error"></div>
        </div>
      {% else %}
        <input type="{{ field.type }}" id="{{ field.name }}" name="{{ field.name }}" value="{{ field.value }}" min="{{ field.min }}" step="{{ field.step }}" max="{{ field.max }}" size="{{ field.size }}">
      {% endif %}
    </div>
    {% endfor %}
    <div class="form-actions">
      <input type="button" value="Generate pcap" onclick="validateAndSubmit('{{ validation_field_id }}', '{{ validation_error_id }}', document.getElementById('{{ form_id }}'))">
    </div>
  </form>
</div>

<p class="samples-heading">Samples</p>
<div class="container">
  {% for sample in samples %}
  <div class="row">
    <div class="col-25">
      {{ sample.title | safe }}
      <div class="sample-actions">
        <button type="button" class="sample-btn copy-btn" data-hex="{{ sample.data }}" title="Copy to clipboard">Copy</button>
        <button type="button" class="sample-btn use-btn" data-hex="{{ sample.data }}" data-field="{{ validation_field_id }}" title="Use in form">Use</button>
      </div>
    </div>
    <div class="col-75">
      <div class="wrapdiv">
        {{ sample.data }}
      </div>
    </div>
  </div>
  {% endfor %}
</div>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}
